@0xFFFFFFFFFFFFFFFF;  # unique file ID, generated by `capnp id`

{% for struct_definition in definitions %}

struct {{ struct_definition.name }} {
    {% for field in struct_definition.fields %}
    {% if field.type.name == "Union" %}
    {{ field.name }} :union {
        {% set union = field.type %}
        {% for field in union.fields %}
        {{ field.name }} @{{ field.index }} :{{ field.type.name }};
        {% endfor %}
    }
    {% else %}
    {{ field.name }} @{{ field.index }} :{{ field.type.name }};
    {% endif %}
    {% endfor %}
}

{% endfor %}

